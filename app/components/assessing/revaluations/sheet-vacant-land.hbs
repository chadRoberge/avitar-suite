<div class="vacant-land-analysis">
  {{! Statistics Summary }}
  <div class="avitar-card avitar-mb-4">
    <div class="avitar-card__header avitar-bg-gray-50">
      <h4 class="avitar-font-semibold">Vacant Land Statistics</h4>
    </div>
    <div class="avitar-card__body">
      <div class="avitar-grid avitar-grid-cols-4 avitar-gap-4">
        <div class="avitar-stat">
          <div class="avitar-stat__value">{{this.statistics.count}}</div>
          <div class="avitar-stat__label">Sales</div>
        </div>
        <div class="avitar-stat">
          <div class="avitar-stat__value">{{format-currency this.statistics.avgPrice}}</div>
          <div class="avitar-stat__label">Avg Price</div>
        </div>
        <div class="avitar-stat">
          <div class="avitar-stat__value">{{format-currency this.statistics.avgPricePerAcre}}</div>
          <div class="avitar-stat__label">Avg $/Acre</div>
        </div>
        <div class="avitar-stat">
          <div class="avitar-stat__value">{{format-currency this.statistics.medianPricePerAcre}}</div>
          <div class="avitar-stat__label">Median $/Acre</div>
        </div>
      </div>
    </div>
  </div>

  {{! Sales Table }}
  <div class="avitar-card">
    <div class="avitar-card__header avitar-bg-gray-50">
      <h4 class="avitar-font-semibold">Sales Analysis</h4>
    </div>
    <div class="avitar-card__body">
      {{#if this.salesData.length}}
        <div class="avitar-table-container">
          <table class="avitar-table avitar-table--striped">
            <thead>
              <tr>
                <th>Property Address</th>
                <th>Sale Date</th>
                <th>Sale Price</th>
                <th>Acreage</th>
                <th>Price/Acre</th>
                <th>Frontage</th>
                <th>Price/Front Ft</th>
              </tr>
            </thead>
            <tbody>
              {{#each this.salesData as |sale|}}
                <tr>
                  <td>{{sale.property_address}}</td>
                  <td>{{date-format sale.sale_date "MM/DD/YYYY"}}</td>
                  <td>{{format-currency sale.sale_price}}</td>
                  <td>{{sale.acreage}}</td>
                  <td>{{format-currency sale.pricePerAcre}}</td>
                  <td>{{sale.frontage}}</td>
                  <td>
                    {{#if (gt sale.frontage 0)}}
                      {{format-currency sale.pricePerFrontFoot}}
                    {{else}}
                      -
                    {{/if}}
                  </td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>
      {{else}}
        <div class="avitar-empty-state avitar-py-6">
          <p class="avitar-text-muted">No sales data available for this analysis</p>
        </div>
      {{/if}}
    </div>
  </div>
</div>
